"use strict";function ZoneController(e,a){e.zones={},e.zones.title="Zone Departures Stopped",e.zones.zone1Data=[],e.zones.zone2Data=[],e.zones.zone3Data=[],a.getZoneDetails().success(function(a){bindDataToView(e,a)}).error(function(e){console.warn("Error occurred",e)});var n=io();n.on("zone_details",function(a){bindDataToView(e,a),e.$digest()})}function bindDataToView(e,a){e.zones.zone1Data=[],e.zones.zone2Data=[],e.zones.zone3Data=[];for(var n=0;n<a.length;n++)switch(a[n].isStarted===!0?a[n].cssClass="bg-success":a[n].cssClass="bg-danger",a[n].zoneNumber){case 1:e.zones.zone1Data.push(a[n]);break;case 2:e.zones.zone2Data.push(a[n]);break;case 3:e.zones.zone3Data.push(a[n])}}function ParkingSpaceController(e,a){e.ps={},e.ps.parkingSpaces=[],a.getParkingSpaceDetails().success(function(a){bindParkingSpaces(e,a)}).error(function(e){console.warn("Error occurred while getting parking spaces",e)});var n=io();n.on("ps_details",function(a){bindParkingSpaces(e,a),e.$digest()})}function bindParkingSpaces(e,a){for(var n=0;n<a.length;n++){var s=moment(a[n].lastUpdateOn).format("MM/DD/YYYY HH:mm:ss");a[n].lastUpdateOn=s,a[n].mediumSpace<4&&a[n].mediumSpace>0&&(a[n].mediumCssClass="bg-warning"),a[n].mediumSpace<=0&&(a[n].mediumCssClass="bg-danger"),a[n].mediumSpace>=4&&(a[n].mediumCssClass="bg-success"),a[n].heavySpace<4&&a[n].heavySpace>0&&(a[n].heavyCssClass="bg-warning"),a[n].heavySpace<=0&&(a[n].heavyCssClass="bg-danger"),a[n].heavySpace>=4&&(a[n].heavyCssClass="bg-success"),a[n].superSpace<4&&a[n].superSpace>0&&(a[n].superCssClass="bg-warning"),a[n].superSpace<=0&&(a[n].superCssClass="bg-danger"),a[n].superSpace>=4&&(a[n].superCssClass="bg-success")}e.ps.parkingSpaces=a}function ZoneInfoController(e){e.zone1={},e.zone2={},e.zone3={},e.zone1.airports=["OBBI","OTBD","OTHH","OISL","OEDR","OIBK","OIKB","OIKQ","OISS","OOMS","OOSA","OOSH"],e.zone2.airports=["OEDF","OERK","ORMM","OERY","OKBK","OOSA","OEAH"],e.zone3.airports=["OEJN","OEMA","OIIE","OJAI","ORER","ORBI","OPKC"]}var uacaccDashboard=angular.module("uacacc-dashboard",["angularMoment","UacaccService"]),UacaccService=angular.module("UacaccService",[]).factory("UacaccDataOp",["$http",function(e){var a="http://auhportal2016p1:10004",n={};return n.getZoneDetails=function(){return e.get(a+"/api/zone")},n.getParkingSpaceDetails=function(){return e.get(a+"/api/parkingspace")},n}]);uacaccDashboard.controller("ZoneController",ZoneController),uacaccDashboard.controller("ParkingSpaceController",ParkingSpaceController),uacaccDashboard.controller("ZoneInfoController",ZoneInfoController);